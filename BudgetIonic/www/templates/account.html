<ion-view class="account-view">
    <ion-content class="has-header" padding="false">
        <div class="account-header">
            <div class="row">
                <account-overview class="col budget-prediction-col" account="vm.accountData" show-labels="true"></account-overview>
                <div class="col col-fill account-title">
                    <p class="account-subject">{{vm.accountData.subject}}</p>
                    <p class="account-description">{{vm.accountData.description}}</p>
                </div>
            </div>
        </div>
        <div class="row responsive-sm">
            <ion-list class="col col-50" ng-if="vm.subAccounts.length > 0">
                <ion-item ng-repeat="subAccount in vm.subAccounts" item="subAccount" class="budget-list-item item-positive" ui-sref="app.logged-in.project.account({accountId: subAccount.$id})">
                    <div class="row" style="height: 120px">
                        <account-overview class="col budget-prediction-col" account="subAccount"></account-overview>
                        <div class="col budget-item-separator" ng-style="{backgroundColor:subAccount.subAccounts.length == 0 ? '#3399ff' : '#ccc'}"></div>
                        <div class="col budget-item-main">
                            <div class="budget-name">{{subAccount.subject}}</div>
                        </div>
                        <div class="col budget-item-navigation">
                            <div>
                                <span ng-hide="subAccount.subAccounts.length == 0" class="notification">{{subAccount.subAccounts.length}}</span>
                                <i class="icon ion-ios-arrow-right"></i>
                            </div>
                        </div>
                    </div>
                </ion-item>
            </ion-list>
            <ion-list class="col col-50">
                <ion-item ng-repeat="transaction in vm.transactions" item="transaction" class="item-positive">
                    <div class="row">
                        <div class="col user-picture-small">
                            <div class="col clip-circle" ng-style="transaction.profilePicture"></div>
                        </div>
                        <div class="col col-fill">
                            <div class="row">{{transaction.label}}</div>
                            <div class="time-ago">
                                <span am-time-ago="transaction.timestamp"></span>
                            </div>
                        </div>
                    </div>
                </ion-item>
            </ion-list>
        </div>
    </ion-content>
</ion-view>